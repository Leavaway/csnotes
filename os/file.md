## 文件
  def: 文件（File）是计算机中存储数据的基本单位。文件是一个有序的字节序列，用于保存和组织用户和应用程序的数据<br/>
  文件卷: 由物理磁盘划分或组成而来, 包含目录区(用于存放文件目录信息和用于磁盘管理等信息)和文件区(用于存放文件数据)<br/>
  <img width="600" alt="1683006988168" src="https://user-images.githubusercontent.com/86211987/235589913-8b262e64-97bf-4dca-a3e0-184e9da9f7e3.png"><br/>
### 文件的逻辑结构
  1. 无结构文件: 文件内部的数据就是一系列二进制流或字符流组成。又称"流式文件"。如 Windows 操作系统中的 .txt 文件。<br/>
  2. 有结构文件: <br/>
  <img width="600" alt="1683009271160" src="https://user-images.githubusercontent.com/86211987/235596245-b8bb23f5-cecd-40f7-a582-ce12d5a3b55a.png"><br/>
### 文件目录
  目录结构: <br/>
    1. 单级目录结构: 一个系统只有一张目录表, 不允许文件重名<br/>
    2. 两级目录结构: 不同用户文件可以充满, 但是不能对文件进行分类<br/>
    3. 多级目录结构: 可以重名分类但不方面文件共享, 有绝对路径喝相对路径(相对路径可以减少磁盘IO次数)<br/>
    4. 无环图目录结构: 为共享节点设置一个共享计数器(共享和复制不同), 计数器为0时才真正删除该结点<br/>
  索引结点: 除了文件名之外的信息都放索引节点中, 索引结点目录项中只包含了文件名和索引结点指针, 缩小了目录项长度, 一个磁盘块可以放更多的目录项, 减少了检索文件时磁盘I/O次数<br/>
### 文件的物理结构
  连续分配: 连续分配方式要求每个文件在磁盘上占有一组连续的块, 物理块号 = 起始块号 + 逻辑块号, 因为连续分配支持顺序访问和直接访问  连续分配的文件在顺序读写时速度最快<br/>
           物理上采用连续分配的文件不方便拓展, 存储空间利用率低, 会产生难以利用的磁盘碎片<br/>
  链接分配: 1) 隐式链接: 只支持顺序访问, 不支持随机访问; 不会有碎片问题, 外存利用率高<br/>
           2) 显式链接: 通过FAT(文件分配表)显式存放链接各个文件的指针。一个磁盘对应一张FAT, 在开机时被读入并且常驻内存。 会占用一定存储空间但是支持顺序访问和直接访问并且地址转换不需要访问磁盘因此文件的访问效率更高<br/>
  索引分配: 索引分配允许文件离散地分配在各个磁盘块中，系统会为每个文件建立一张索引表，索引表中记录了文件的各个逻辑块对应的物理块。索引表存放的磁盘块称为索引块。文件数据存放的磁盘块称为数据块<br/>
          解决文件太大, 一个索引表不足以装下文件的所有索引项: 1) 链接方案: 把多个索引块链接起来存放。但是如果文件很大, 在访问最后一个逻辑块的适合需要把前面的索引表都读入内存来获得最后一个逻辑块所在的索引表, 开销较大<br/>
          2) 多层索引: 给索引表建立更高一级的索引表。比如在两级索引表中一个磁盘块为1kb, 一个索引表表项占4b, 则一个磁盘块可以放入256个索引项, 对于256个索引项构建一个顶级索引, 则可以放入256\*256\*1kb的数据, 假设逻辑块号为1026(256\*4+2)则放在一级4号索引表中二级2号索引项对应的物理地址<br/>
          3) 混合索引: 是多种分配方式的结合, 可以在一个文件的顶级索引表中包含直接地址索引, 一级间接索引和二级间接索引<br/>
  总结: <br/><img width="600" alt="1683728598397" src="https://github.com/Leavaway/csnotes/assets/86211987/b67c2048-81ac-4ecf-ad6e-5126450c7aaf"><br/>
### 区别
   索引文件的索引表: 用户自己建立的，映射:关键字>记录存放的逻辑地址<br/>
   索引分配的索引表:操作系统建立的，映射:逻辑块号>物理块号<br/>
### 存储空间管理
   空闲表法: 用空闲表管理空闲区间, 适合连续空间分配方式<br/>
           回收: 与动态分区分配回收机制类似<br/>
   空闲链表法: 1) 空闲盘块链: 空闲盘块中存储着下一个空闲盘块的指针<br/>
              2) 空闲盘区链: 空闲盘块组成了空闲盘区, 空闲盘区中存储着下一个空闲盘区的指针<br/>
   位视图法: 使用一个位数组（即位图）来表示磁盘空间中可用的存储块。在位图中，每个位对应一个存储块，如果该存储块为空闲，则位的值为1（或0），如果已被分配，则位的值为0（或1）<br/>
   成组链接法: 空闲块被组织成若干组，每一组包含一定数量的连续空闲块。每一组的第一个空闲块包含了该组中其余空闲块的列表。当需要分配空闲块时，系统会从列表中选择一个块，并更新列表。当一个组的所有块都被分配出去后，系统会选择一个新的包含空闲块的组。当一个组分配完后会把它下一级的指向上一级避免信息断裂<br/>
              如果顶级表满了要插入一位则新建一个表并且把第一个元素指向原来的顶级表<br/>
