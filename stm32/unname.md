
GPIO 是 General Purpose Input/Output（通用输入/输出）的缩写，是一种通用的、没有特定功能的数字信号引脚，其功能由软件定义。每个 GPIO 都可以被配置为输入或输出。

在嵌入式系统中，GPIO 是最常见的方式来与其他数字系统或数字器件进行交互。你可以将 GPIO 引脚用于读取数字信号（输入模式）或输出数字信号（输出模式）。

在输入模式下，GPIO 引脚可以用来读取来自外部设备的数字信号，比如按钮的状态。

在输出模式下，GPIO 引脚可以控制外部设备，比如 LED。

在 STM32 微控制器中，每个 GPIO 引脚可以配置为多种模式，包括输入、输出、模拟、中断以及一些特定功能模式（如 I2C，SPI，USART 等）。除此之外，STM32 的 GPIO 引脚还支持中断，这使得在某些特定事件发生时，例如引脚电平改变时，可以立即触发一个处理程序。

在编程时，通常使用 GPIO 库或直接操作硬件寄存器来控制 GPIO 引脚。例如，你可以设置引脚模式（输入、输出等），设置引脚电平（高或低），以及读取引脚状态。

GPIO位结构


上拉模式和下拉模式: 在引脚没有输入时候可以设置默认的电平

施密特触发器: 信号整形，设置2个阈值来进行信号判断，只有高于高阈值或者低于低阈值才会引起信号变化，有效避免因为信号波动导致的输出抖动现象

更改输出寄存器的某一位: 1) 读出更改后写回 2)使用位设置/清楚寄存器 3)位带



stm中断

![1690179692496](https://github.com/Leavaway/csnotes/assets/86211987/bec4e9c2-58be-4131-bdb1-de2cfefdb918)


软中断和硬中断的区别

软中断和硬中断是两种不同类型的中断。软中断是由程序调用发生的，而硬中断是由外设引发的1。硬中断发生的时间是随机的，而软中断发生的时间是由程序控制的1。硬件中断处理程序要确保它能快速地完成它的任务，这样程序执行时才不会等待较长时间

NVIC统一管理 抢占优先级和响应优先级: 抢断优先级高的可以中断嵌套, 响应优先级高的可以优先排队, 这两个值均相同的按照中断号排队


EXTI为extern interrupt 外部中断，监测指定GPIO口的电平信号，监测的GPIO电平变化时向NVIC发出中断信号，排到后中断CPU并且执行相应的中断程序，
支持上升沿/下降沿/双边沿/软件触发  响应: 中断响应/事件响应
EXTI有16个GPIO PIN通道和4个额外的通道, 所以同一个PIN值不能同时中断

STM32微控制器中的GPIO（General Purpose Input/Output）端口有一个很重要的特性，那就是它们可以被重新映射到其他功能，这就是所谓的“Alternate Function”。这些Alternate Function可以是各种外设的接口，如USART、I2C、SPI、TIM等。
AFIO（Alternate Function I/O）是STM32中用于管理这种功能映射的硬件部件。通过配置AFIO，我们可以选择将GPIO端口的某些引脚用作特定外设的接口，或者恢复它们为普通的GPIO。
例如，如果我们想使用USART1，但是又不想使用它默认的引脚（PA9和PA10），那么可以通过配置AFIO，将USART1的TX和RX线映射到其他的GPIO引脚上。
AFIO 引脚复用功能选择和重定义(数据选择器),  引脚复用功能引脚重映射, 中断引脚选择。
EXTI框图: 
![1690181122540](https://github.com/Leavaway/csnotes/assets/86211987/65a4bdd3-60fe-4a09-903a-c055a427ca36)


